name: test_docker
on:
  push:
    branches: [ "623-CI-with-CML-runtimes" ]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: test docker
      run:  |
             git clone https://github.com/cloudera/ml-runtimes.git
             cd ml-runtimes
             ls
             echo "$PWD"
             docker build -t cml_3.9 -f 'pbj-workbench-python3.9-standard.Dockerfile' .
             docker image ls
             ls
             docker run -i -t cml_3.9
             pip install .[dev]
             pytest
